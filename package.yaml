<<: !include ../package-yaml-support/base-package.yaml
name: database
synopsis: NRI helper for database queries
extra-source-files:
- README.md
dependencies:
- attoparsec
- base
- bytestring
- cherry-core
- directory
- env-parser
- exceptions
- filepath
- hashable
- haskell-src-meta
- health
- io-streams
- lens
- lens-regex-pcre
- monad-logger
- mtl
- mysql-haskell
- network
- oops
- pcre-light
- postgresql-simple
- postgresql-typed
- process
- resource-pool
- resourcet
- safe-exceptions
- template-haskell
- text
- time
- typed-process
- unix
library:
  exposed-modules:
  - MySQL
  - MySQL.Settings
  - Postgres
  # Exposed for tests only
  - MySQL.Internal
  - Internal.QueryParser
  - Postgres.Settings
  - Internal.Time
  source-dirs: src
tests:
  spec:
    dependencies:
    - hedgehog
    - database
    - tasty
    - tasty-ant-xml
    - tasty-hedgehog
    - tasty-hunit
    main: Main.hs
    source-dirs:
    - test
    ghc-options: *test-ghc-options
